ESP32‑S3‑Touch‑LCD‑4.3B — Pin Map
Module: ESP32‑S3‑WROOM‑1‑N16R8 (U9)
Board: Waveshare ESP32‑S3‑Touch‑LCD‑4.3B (800×480)
Reference: Board schematic (pages 1–2), including the Mapping Pins block and labeled nets around the LCD, SD, USB, I²C/CTP, RS‑485, CAN, RTC, DI/DO, and strapping sections. 

Quick legend
GPIO → Net/Function means the ESP32‑S3 pin drives/reads that labeled signal on the board.

LCD RGB uses the panel’s 24‑bit parallel interface plus control lines.

Nets are written exactly as on the schematic (e.g., VSYNC, DE, DISP, PCLK, SDCS). 

LCD (RGB) – color data lines
These come from the Mapping Pins table tying ESP32‑S3 GPIOs to LCD color bits. (The panel header is PORT1; the LCD block labels R0..R7, G0..G7, B0..B7.) 

Red
GPIO1 → R3

GPIO2 → R4

GPIO42 → R5

GPIO41 → R6

GPIO40 → R7 

Green
GPIO39 → G2

GPIO0 → G3

GPIO45 → G4

GPIO48 → G5

GPIO47 → G6

GPIO21 → G7 

Blue
GPIO14 → B3

GPIO38 → B4

GPIO18 → B5

GPIO17 → B6

GPIO?? → B7 (B7 net is present on the LCD header; the schematic’s mapping table shows B7 but the board’s revision PDF doesn’t clearly label which GPIO drives it. If you can confirm from your source files or silkscreen table, I’ll fill this in.) 

Note: The schematic shows the high bits of each color (3..7) mapped to ESP32‑S3 GPIOs. Lower bits (0..2) are either unused on this board revision or not brought out in the table. 

LCD control signals
GPIO7 → PCLK (pixel clock)

GPIO46 → HSYNC

GPIO3 → VSYNC

GPIO5 → DE (data enable)

GPIO2 → DISP (display enable)

GPIO3 → LCD_RST (the mapping block also labels LCD_RST on an S3 GPIO; on this sheet it ties to GPIO3 along with VSYNC—if your board has R‑option links, confirm which net is populated on your unit) 

Touch panel (CTP) – I²C interface
CTP (capacitive touch) is on the 8‑pin Touch Panel Interface header (H1) and level‑shifted I²C connector (H8) labeled I2C 3V3 5V. Pull‑ups and an NDC7002 level shifter are shown. 

GPIO8 → SDA (CTP_SDA / D_SDA)

GPIO9 → SCL (CTP_SCL / D_SCL)

GPIO4 → CTP_IRQ

GPIO? → CTP_RST (net CTP_RST is present; the schematic shows it routed from the ESP32‑S3 but the exact GPIO label is not fully legible on this PDF. If you can share your BoM/table image, I’ll pin this down.) 

SD card (SPI mode)
MicroSD connector SD1 is wired for SPI (CMD/CLOCK/D0 etc.) and the mapping table shows the standard SPI nets: 

GPIO12 → SCK

GPIO11 → MOSI

GPIO13 → MISO

GPIO4 → SDCS (card chip‑select) 

USB (native)
ESP32‑S3 native USB‑OTG (direct to Type‑C). The schematic labels the SoC pins as ESP_USB_N and ESP_USB_P and ties them to S3 GPIO19 and GPIO20 respectively. 

GPIO19 → ESP_USB_N (USB D−)

GPIO20 → ESP_USB_P (USB D+) 

RTC (PCF85063)
An external RTC (U3 PCF85063ATL) is on the I²C bus (SDA/SCL above). Its INT line is brought to the MCU: 

GPIO6 → RTC_INT 

RS‑485
The board provides an isolated RS‑485 interface (opto + SP3485 transceiver). The MCU side nets are labeled RS485_TXD and RS485_RXD: 

GPIO44 → RS485_TXD

GPIO43 → RS485_RXD 

CAN (TJA1051)
The CAN transceiver (U12 TJA1051) connects to the S3 on two UART‑style nets: 

GPIO? → CANTX

GPIO? → CANRX

The schematic block clearly labels CANTX/CANRX into U12 and shows those nets going to the ESP32‑S3, but the specific GPIO numbers are not text‑extracted on this PDF snapshot. If you can share a higher‑res crop of that area or your board’s silkscreen pin table, I’ll fill in the exact GPIOs. 

Digital inputs/outputs (DI/DO)
Opto‑isolated digital I/O blocks are present: DI0/DI1 (inputs), DO0/DO1 (open‑collector outputs). The mapping lines in the schematic show: 

GPIO0 → DI0

GPIO5 → DE (LCD data‑enable; separate from DI/DO)

GPIO? → DI1 (net DIN1)

GPIO? → DO0 (net DOUT0)

GPIO? → DO1 (net DOUT1)

DI/DO are all present on page 1 (right‑hand side). The exact GPIO labels for DIN1/DOUT0/DOUT1 are partly obscured in the parsed text; happy to lock these down with a clearer crop. 

I²C expansion header (H8)
An external I²C header provides 5V/3V3/GND and the same bus (D_SDA/D_SCL) via a MOSFET level shifter (NDC7002N) with pull‑ups (R99–R102). That bus is the same as GPIO8/9 above. 

Strapping pins / boot
The schematic calls out strapping pins with pull networks: GPIO0, GPIO45, GPIO46, GPIO3. Be mindful when repurposing them (boot mode, JTAG, etc.). 

Power, backlight, and others
Backlight power is generated by a boost converter (AP3032) into VLED+/VLED−; controlled at the power stage, not directly by a single GPIO in this sheet. 

VBAT/CHG/DONE/PWR LEDs and battery charger (CS8501) are on-board power circuitry (no direct GPIO mapping shown here). 

Summary table (what’s clearly mapped)
Function	Net	ESP32‑S3 GPIO
USB D− / D+	ESP_USB_N / ESP_USB_P	19 / 20
I²C (CTP & header)	SDA / SCL	8 / 9
LCD clock & sync	PCLK / HSYNC / VSYNC	7 / 46 / 3
LCD control	DE / DISP	5 / 2
SD (SPI)	SCK / MOSI / MISO / CS	12 / 11 / 13 / 4
LCD Red	R3 / R4 / R5 / R6 / R7	1 / 2 / 42 / 41 / 40
LCD Green	G2 / G3 / G4 / G5 / G6 / G7	39 / 0 / 45 / 48 / 47 / 21
LCD Blue	B3 / B4 / B5 / B6 / B7	14 / 38 / 18 / 17 / ?
RTC interrupt	RTC_INT	6
RS‑485	TXD / RXD	44 / 43
Touch	CTP_IRQ / CTP_RST	4 / ?

All entries verified against the labeled nets and the “Mapping Pins” block in the schematic PDF; “?” are nets present on the board whose exact GPIO labels aren’t fully legible in this PDF copy. 

What I still need to finalize 100%
If you can share a higher‑resolution crop (or a photo of the silkscreen table on the back of the PCB), I can lock these missing items immediately:

B7 (which GPIO)

CTP_RST (which GPIO)

CAN (CANTX/CANRX GPIOs)

DI/DO remaining GPIOs (DIN1/DOUT0/DOUT1)

How to use this in VS Code / Copilot
Save this as pinmap.md at the repo root (or in /docs), and link to it from your README.

In code, add a header comment referencing these mappings so Copilot can pick context (e.g., // see docs/pinmap.md for LCD GPIO mapping).

If you change any pin, update both platformio.ini -D build flags and this file so the AI loop stays consistent.

If you want, I can also generate ready‑to‑use #define (or const gpio_num_t) lines for your config.h based on this mapping.